<!DOCTYPE html>
<html lang="hr">
<head>
	<meta charset="UTF-8">
	<title>Promjene infrastrukture</title>
	<!-- Komponente za CSS iz Bootstrapa -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">

	<!-- Rucno definirani CSS profili -->
	<style>
		body {
			background: linear-gradient(135deg, #f8f9fa, #dee2e6);
			font-family: 'Segoe UI', sans-serif;
		}
		.table thead {
			background-color: #0d6efd;
			color: white;
		}
		.container {
			padding-top: 50px;
		}
		.mb-20 {
			margin-bottom: 20px;
		}
	</style>
</head>

<body>
<div class="container">
	<div class="d-flex justify-content-between align-items-center mb-4">
		<h2 class="fw-bold">Uredi infrastrukturu</h2>
	</div>

	<!-- Tipka za povratak na index.html-->
	<div class="text-center mt-4">
		<a href="{{ url_for('index') }}" class="btn btn-outline-primary">
		<i class="bi bi-arrow-left"></i> Povratak na početnu</a>
		<br><br><br>
	</div>

	<!-- Tipka za unos novog zapisa u tablicu KompletnaInfrastruktura -->
	<div class="mb-20">
		<a href="{{ url_for('dodaj') }}" class="btn btn-success">+ Novi unos</a>
		
	</div>

	<!-- Prikaz sadrzaja iz tablice KompletnaInfrastruktura -->
	<div class="table-responsive shadow-sm">
		<table class="table table-bordered table-hover align-middle">
			<thead>
			<tr>
				<th>ID</th>
				<th>IP adresa</th>
				<th>Reputacija</th>
				<th>Internetska adresa</th>
				<th>ISP</th>
				<th>Zemlja</th>
				<th>TOR</th>
				<th>TCP portovi</th>
				<th>Operacije</th>
			</tr>
			</thead>
		<tbody>
			{% for zapis in zapisi %}
			<tr>
				<td>{{ zapis.id }}</td>
				<td>{{ zapis.ip_address }}</td>
				<td>{{ zapis.reputation }}</td>
				<td>{{ zapis.internet_address }}</td>
				<td>{{ zapis.isp }}</td>
				<td>{{ zapis.country }}</td>
				<td>{{ zapis.tor }}</td>
				<td>{{ zapis.tcp_ports }}</td>

				<!-- Tipke za izmjenu i brisanje zapisa u tablici KompletnaInfrastruktura -->
				<td class="d-flex justify-content-center gap-2">
					<a href="{{ url_for('uredi', id=zapis.id) }}" class="btn btn-sm btn-warning">Izmijeni</a>
		                        <a href="{{ url_for('obrisi', id=zapis.id) }}" class="btn btn-sm btn-danger" onclick="return confirm('Obrisati zapis?');">Obriši</a>
				</td>
			</tr>
			{% endfor %}
		</tbody>
		</table>
	</div>
</div>
</body>
</html>
