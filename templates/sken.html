<!DOCTYPE html>
<html lang="hr">
<head>
	<meta charset="UTF-8">
	<title>Infrastructure Mapper - Sken</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- Bootstrap 5 CSS -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
	<!-- Ostali profili za CSS -->
	<style>
	body {
		background: linear-gradient(135deg, #f8f9fa, #dee2e6);
		font-family: 'Segoe UI', sans-serif;
	}
	.card {
		transition: transform 0.2s ease-in-out;
	}
		.card:hover {
		transform: scale(1.02);
	}
	</style>

</head>

<body>
<div class="container py-5">
	<div class="text-center mb-4">
		<h2 class="fw-bold">Sken</h2>
		<p class="text-muted">Unesite domenu koju želite analizirati.</p>
	</div>

	<!-- Tipka za povratak na index.html -->
	<div class="text-center mt-4">
		<a href="{{ url_for('index') }}" class="btn btn-outline-primary">
			<i class="bi bi-arrow-left"></i> Povratak na početnu
		</a><br><br><br>
	</div>

	<!-- Poruka upozorenja -->
	<div class="row justify-content-center">
	<div class="col-md-6">
		<div class="alert alert-warning text-center" role="alert">
			⚠️ Skeniranje domene može potrajati i ovisi o veličini infrastrukture organizacije.
		</div>
	</div>
	</div>

	<!-- Uokvireni dio za upisivanje domene -->
	<div class="row justify-content-center">
	<div class="col-md-6">
		<div class="card shadow-sm p-4">
			<form method="post" onsubmit="onSkenSubmit()">
				<div class="mb-3">
					<label for="domena" class="form-label">Domena organizacije:</label>
					<input type="text" class="form-control" id="domena" name="domena" placeholder="npr. unipu.hr" required>
				</div>
				<button type="submit" class="btn btn-primary w-100" id="skenButton"><i class="bi bi-play-fill me-2"></i>Startaj sken
				</button>
			</form>

			{% if pokrenuto %}
			<div class="alert alert-success mt-4">
				Završeno je skeniranje za domenu <strong>{{ domena }}</strong>! <br>
				Sadržaj pregledajte u rubrici <strong>Pregled</strong>.
			</div>
			{% endif %}
		</div>
		</div>
	</div>
	</div>

<!-- Bootstrap + JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
	<!-- Prikaz tipke dok traje skeniranje -->
	<script>
		function onSkenSubmit() {
			const btn = document.getElementById('skenButton');
			btn.disabled = true;
			btn.innerHTML = '<i class="bi bi-hourglass-split me-2"></i>Skeniram...';
		}
	</script>
</body>

</html>
